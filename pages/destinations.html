<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toursita - Nos Destinations Extraordinaires</title>
    <link rel="stylesheet" href="../styles/styles2.css">
</head>
<body>
    <div id="js-status" class="js-status"></div>

    <div class="floating-elements">
        <div class="floating-icon">ğŸŒ</div>
        <div class="floating-icon">ğŸš€</div>
        <div class="floating-icon">ğŸ—ºï¸</div>
    </div>

    <header class="header">
        <h1 class="logo">Tourist<span class="trap">a</span></h1>
        <p class="tagline">Explorez l'impossible</p>
        <nav class="breadcrumb">
        </nav>
    </header>

    <main class="destinations-container">
        <div class="destinations-box">
            <h2 class="destinations-title">ğŸŒŸ Nos Destinations Exclusives</h2>
            <p class="destinations-intro">
                DÃ©couvrez notre sÃ©lection de voyages extraordinaires. 
                Attention : certaines destinations peuvent dÃ©fier les lois de la rÃ©alitÃ©.
            </p>

            <div class="destinations-grid">
                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸï¸ L'Ãle de SchrÃ¶dinger</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Une Ã®le qui existe et n'existe pas Ã  la fois. Parfait pour les amateurs de paradoxes quantiques.</p>
                    <div class="destination-details">
                        <span class="price">Prix : âˆâ‚¬</span>
                        <span class="duration">DurÃ©e : Variable</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>â° Le CafÃ© du Temps Perdu</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Un cafÃ© oÃ¹ chaque tasse vous fait revivre vos souvenirs. Attention aux boucles temporelles.</p>
                    <div class="destination-details">
                        <span class="price">Prix : Vos souvenirs</span>
                        <span class="duration">DurÃ©e : Ã‰ternelle</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸŒ™ La Face CachÃ©e de la Lune</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Visitez l'autre cÃ´tÃ© de la lune oÃ¹ vivent les fromagers lunaires et leurs vaches anti-gravitationnelles.</p>
                    <div class="destination-details">
                        <span class="price">Prix : 1 Million d'Ã©toiles</span>
                        <span class="duration">DurÃ©e : 28 jours lunaires</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸŒªï¸ L'Å’il du Cyclone Temporel</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Un endroit calme au centre d'une tempÃªte qui traverse les Ã©poques. Wi-Fi inclus.</p>
                    <div class="destination-details">
                        <span class="price">Prix : NÃ©gociable</span>
                        <span class="duration">DurÃ©e : InstantanÃ©e</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸ•³ï¸ Le Trou Noir de la Procrastination</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">L'endroit parfait pour remettre Ã  plus tard. Vous y arriverez... demain.</p>
                    <div class="destination-details">
                        <span class="price">Prix : Plus tard</span>
                        <span class="duration">DurÃ©e : ReportÃ©e</span>
                    </div>
                </div>

                <div class="destination-card available">
                    <div class="destination-header">
                        <h3>ğŸ›ï¸ La Graisse Antique</h3>
                        <span class="status available-badge">DISPONIBLE âœ¨</span>
                    </div>
                    <p class="destination-desc">DÃ©couvrez les mystÃ¨res de cette destination mÃ©diterranÃ©enne aux secrets millÃ©naires. DÃ©part immÃ©diat possible !</p>
                    <div class="destination-details">
                        <span class="price">Prix : 299â‚¬</span>
                        <span class="duration">DurÃ©e : 7 jours</span>
                    </div>
                    
                    <div class="button-zone">
                        <button id="escaping-button" class="escaping-btn">
                            ğŸš€ RÃ©server maintenant
                        </button>
                        
                        <div class="fallback-buttons">
                            <a href="reservation.html" class="fallback-btn">
                                ğŸš€ RÃ©server maintenant
                            </a>
                            <a href="reservalt.html" class="fallback-btn secondary">
                                âœˆï¸ RÃ©servation alternative
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="help-section">
                <h3>ğŸ¤” ProblÃ¨mes techniques ?</h3>
                <p class="help-text">
                    Si un bouton semble avoir pris vie et refuse de coopÃ©rer, 
                    essayez de dÃ©sactiver JavaScript dans votre navigateur. 
                    Parfois, la technologie a besoin d'une petite pause...
                </p>
                <p class="help-text">
                    <strong>Pour dÃ©sactiver JS :</strong> F12 â†’ Settings â†’ Disable JavaScript â†’ RafraÃ®chir (F5)
                </p>
            </div>
        </div>
    </main>

    <div class="footer-note">
        SystÃ¨me de rÃ©servation v2.3.1 â€¢ Bugs inclus gratuitement
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.documentElement.classList.add('js-active');
            
            const statusIndicator = document.getElementById('js-status');
            statusIndicator.className = 'js-status js-active';
            
            initializeEscapingButton();
        });

        let escapingButton;
        let isMoving = false;
        let escapeCount = 0;
        let isGameActive = true;

        const escapeMessages = [
            'ğŸš€ RÃ©server maintenant',
            'ğŸ˜„ Attrapez-moi !',
            'ğŸƒâ€â™‚ï¸ Trop lent !',
            'ğŸ˜œ Presque !',
            'ğŸ¯ Visez mieux !',
            'ğŸ•¹ï¸ Cache-cache !',
            'âš¡ Plus rapide !',
            'ğŸª Surprise !',
            'ğŸ¯ RatÃ© !',
            'ğŸƒâ€â™€ï¸ Fuyons !'
        ];

        function initializeEscapingButton() {
            escapingButton = document.getElementById('escaping-button');
            
            if (!escapingButton) {
                console.error('Bouton fuyant introuvable !');
                return;
            }

            escapingButton.addEventListener('mouseenter', handleMouseApproach);
            escapingButton.addEventListener('mouseover', handleMouseApproach);
            escapingButton.addEventListener('mousedown', handleMouseDown);
            escapingButton.addEventListener('focus', handleMouseApproach);
            
            console.log('âœ… Bouton fuyant initialisÃ©');
        }

        function handleMouseApproach() {
            if (!isGameActive || isMoving) return;
            escapeButton();
        }

        function handleMouseDown(event) {
            event.preventDefault();
            if (!isGameActive || isMoving) return;
            escapeButton();
        }

        function escapeButton() {
            if (isMoving) return;
            
            isMoving = true;
            escapeCount++;
            
            console.log(`ğŸƒâ€â™‚ï¸ Tentative d'Ã©vasion #${escapeCount}`);
            
            if (escapingButton.parentElement.classList.contains('button-zone')) {
                document.body.appendChild(escapingButton);
            }
            
            const margin = 60;
            const maxX = Math.max(margin, window.innerWidth - escapingButton.offsetWidth - margin);
            const maxY = Math.max(margin, window.innerHeight - escapingButton.offsetHeight - margin);
            
            const newX = Math.random() * maxX;
            const newY = Math.random() * maxY;
            
            escapingButton.style.position = 'fixed';
            escapingButton.style.left = newX + 'px';
            escapingButton.style.top = newY + 'px';
            escapingButton.style.zIndex = '99999';
            escapingButton.style.transition = 'all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            
            if (Math.random() < 0.4) {
                const randomMessage = escapeMessages[Math.floor(Math.random() * escapeMessages.length)];
                escapingButton.textContent = randomMessage;
            }
            
            if (escapeCount >= 12) {
                setTimeout(() => {
                    stopEscapeGame();
                }, 600);
            }
            
            setTimeout(() => {
                isMoving = false;
            }, 400);
        }

        function stopEscapeGame() {
            isGameActive = false;
            
            escapingButton.removeEventListener('mouseenter', handleMouseApproach);
            escapingButton.removeEventListener('mouseover', handleMouseApproach);
            escapingButton.removeEventListener('mousedown', handleMouseDown);
            escapingButton.removeEventListener('focus', handleMouseApproach);
            
            escapingButton.style.position = 'static';
            escapingButton.style.left = 'auto';
            escapingButton.style.top = 'auto';
            escapingButton.style.zIndex = 'auto';
            escapingButton.style.transition = 'all 0.5s ease';
            
            escapingButton.textContent = 'ğŸ‰ FÃ©licitations ! Cliquez maintenant';
            escapingButton.classList.add('captured');
            
            escapingButton.addEventListener('click', function() {
                console.log('ğŸ›ï¸ Redirection vers la GrÃ¨ce...');
                window.location.href = '../index.html';
            });
            
            console.log('ğŸ‰ Jeu terminÃ© ! Le bouton peut maintenant Ãªtre cliquÃ©.');
        }

        window.stopEscape = function() {
            stopEscapeGame();
            console.log('ğŸ‰ Jeu arrÃªtÃ© via la console !');
        };
        
        window.resetEscape = function() {
            escapeCount = 0;
            isGameActive = true;
            isMoving = false;
            escapingButton.textContent = 'ğŸš€ RÃ©server maintenant';
            escapingButton.classList.remove('captured');
            initializeEscapingButton();
            console.log('ğŸ”„ Jeu redÃ©marrÃ© !');
        };
    </script>
</body>
</html>