<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toursita - Nos Destinations Extraordinaires</title>
    <link rel="stylesheet" href="../styles/styles2.css">
</head>
<body>
    <div id="js-status" class="js-status"></div>

    <div class="floating-elements">
        <div class="floating-icon">ğŸŒ</div>
        <div class="floating-icon">ğŸš€</div>
        <div class="floating-icon">ğŸ—ºï¸</div>
    </div>

    <header class="header">
        <h1 class="logo">Tourist<span class="trap">a</span></h1>
        <p class="tagline">Explorez l'impossible</p>
        <nav class="breadcrumb">
        </nav>
    </header>

    <main class="destinations-container">
        <div class="destinations-box">
            <h2 class="destinations-title">ğŸŒŸ Nos Destinations Exclusives</h2>
            <p class="destinations-intro">
                DÃ©couvrez notre sÃ©lection de voyages extraordinaires. 
                Attention : certaines destinations peuvent dÃ©fier les lois de la rÃ©alitÃ©.
            </p>

            <div class="destinations-grid">
                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸï¸ L'Ãle de SchrÃ¶dinger</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Une Ã®le qui existe et n'existe pas Ã  la fois. Parfait pour les amateurs de paradoxes quantiques.</p>
                    <div class="destination-details">
                        <span class="price">Prix : âˆâ‚¬</span>
                        <span class="duration">DurÃ©e : Variable</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>â° Le CafÃ© du Temps Perdu</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Un cafÃ© oÃ¹ chaque tasse vous fait revivre vos souvenirs. Attention aux boucles temporelles.</p>
                    <div class="destination-details">
                        <span class="price">Prix : Vos souvenirs</span>
                        <span class="duration">DurÃ©e : Ã‰ternelle</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸŒ™ La Face CachÃ©e de la Lune</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Visitez l'autre cÃ´tÃ© de la lune oÃ¹ vivent les fromagers lunaires et leurs vaches anti-gravitationnelles.</p>
                    <div class="destination-details">
                        <span class="price">Prix : 1 Million d'Ã©toiles</span>
                        <span class="duration">DurÃ©e : 28 jours lunaires</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸŒªï¸ L'Å’il du Cyclone Temporel</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">Un endroit calme au centre d'une tempÃªte qui traverse les Ã©poques. Wi-Fi inclus.</p>
                    <div class="destination-details">
                        <span class="price">Prix : NÃ©gociable</span>
                        <span class="duration">DurÃ©e : InstantanÃ©e</span>
                    </div>
                </div>

                <div class="destination-card unavailable">
                    <div class="destination-header">
                        <h3>ğŸ•³ï¸ Le Trou Noir de la Procrastination</h3>
                        <span class="status unavailable-badge">INDISPONIBLE</span>
                    </div>
                    <p class="destination-desc">L'endroit parfait pour remettre Ã  plus tard. Vous y arriverez... demain.</p>
                    <div class="destination-details">
                        <span class="price">Prix : Plus tard</span>
                        <span class="duration">DurÃ©e : ReportÃ©e</span>
                    </div>
                </div>

                <div class="destination-card available">
                    <div class="destination-header">
                        <h3>ğŸ›ï¸ La Graisse Antique</h3>
                        <span class="status available-badge">DISPONIBLE âœ¨</span>
                    </div>
                    <p class="destination-desc">DÃ©couvrez les mystÃ¨res de cette destination mÃ©diterranÃ©enne aux secrets millÃ©naires. DÃ©part immÃ©diat possible !</p>
                    <div class="destination-details">
                        <span class="price">Prix : 299â‚¬</span>
                        <span class="duration">DurÃ©e : 7 jours</span>
                    </div>
                    
                    <div class="button-zone">
                        <button id="escaping-button" class="escaping-btn">
                            ğŸš€ RÃ©server maintenant
                        </button>
                        
                        <div class="fallback-buttons">
                            <a href="reservation.html" class="fallback-btn">
                                ğŸš€ RÃ©server maintenant
                            </a>
                            <a href="reservalt.html" class="fallback-btn secondary">
                                âœˆï¸ RÃ©servation alternative
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="help-section">
                <h3>ğŸ¤” ProblÃ¨mes techniques ?</h3>
                <p class="help-text">
                    Si un bouton semble avoir pris vie et refuse de coopÃ©rer, 
                    essayez de dÃ©sactiver JavaScript dans votre navigateur. 
                    Parfois, la technologie a besoin d'une petite pause...
                </p>
                <p class="help-text">
                    <strong>Pour dÃ©sactiver JS :</strong> F12 â†’ Settings â†’ Disable JavaScript â†’ RafraÃ®chir (F5)
                </p>
            </div>
        </div>
    </main>

    <div class="footer-note">
        SystÃ¨me de rÃ©servation v2.3.1 â€¢ Bugs inclus gratuitement
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.documentElement.classList.add('js-active');
            
            const statusIndicator = document.getElementById('js-status');
            statusIndicator.className = 'js-status js-active';
            
            initializeEscapingButton();
        });

        let escapingButton;
        let isMoving = false;
        let escapeCount = 0;
        let isGameActive = true;
        let detectionZone = 120; // Zone de dÃ©tection Ã©largie en pixels

        const escapeMessages = [
            'ğŸš€ RÃ©server maintenant',
            'ğŸ˜„ Attrapez-moi !',
            'ğŸƒâ€â™‚ï¸ Trop lent !',
            'ğŸ˜œ Presque !',
            'ğŸ¯ Visez mieux !',
            'ğŸ•¹ï¸ Cache-cache !',
            'âš¡ Plus rapide !',
            'ğŸª Surprise !',
            'ğŸ¯ RatÃ© !',
            'ğŸƒâ€â™€ï¸ Fuyons !',
            'ğŸ‘» Insaisissable !',
            'ğŸŒªï¸ Tourbillon !',
            'ğŸ’« Pfiou !',
            'ğŸ¦‹ Papillon !',
            'â­ Ã‰toile filante !'
        ];

        function initializeEscapingButton() {
            escapingButton = document.getElementById('escaping-button');
            
            if (!escapingButton) {
                console.error('Bouton fuyant introuvable !');
                return;
            }

            // Surveillance continue de la position de la souris
            document.addEventListener('mousemove', checkMouseProximity);
            escapingButton.addEventListener('mousedown', handleMouseDown);
            escapingButton.addEventListener('click', handleClick);
            escapingButton.addEventListener('focus', escapeButton);
            
            console.log('âœ… Bouton fuyant ultra-sensible initialisÃ©');
        }

        function checkMouseProximity(event) {
            if (!isGameActive || isMoving || !escapingButton) return;

            const buttonRect = escapingButton.getBoundingClientRect();
            const mouseX = event.clientX;
            const mouseY = event.clientY;

            // Calcul de la distance entre la souris et le bouton
            const buttonCenterX = buttonRect.left + buttonRect.width / 2;
            const buttonCenterY = buttonRect.top + buttonRect.height / 2;
            
            const distance = Math.sqrt(
                Math.pow(mouseX - buttonCenterX, 2) + 
                Math.pow(mouseY - buttonCenterY, 2)
            );

            // Si la souris est dans la zone de dÃ©tection, le bouton s'Ã©chappe
            if (distance < detectionZone) {
                escapeButton();
            }
        }

        function handleMouseDown(event) {
            event.preventDefault();
            if (!isGameActive || isMoving) return;
            escapeButton();
        }

        function handleClick(event) {
            event.preventDefault();
            escapeButton();
        }

        function escapeButton() {
            if (isMoving) return;
            
            isMoving = true;
            escapeCount++;
            
            console.log(`ğŸƒâ€â™‚ï¸ Tentative d'Ã©vasion #${escapeCount}`);
            
            // DÃ©placer le bouton hors de son conteneur pour qu'il puisse aller partout
            if (escapingButton.parentElement.classList.contains('button-zone')) {
                document.body.appendChild(escapingButton);
            }
            
            const margin = 80;
            const maxX = Math.max(margin, window.innerWidth - escapingButton.offsetWidth - margin);
            const maxY = Math.max(margin, window.innerHeight - escapingButton.offsetHeight - margin);
            
            const newX = Math.random() * maxX;
            const newY = Math.random() * maxY;
            
            escapingButton.style.position = 'fixed';
            escapingButton.style.left = newX + 'px';
            escapingButton.style.top = newY + 'px';
            escapingButton.style.zIndex = '99999';
            escapingButton.style.transition = 'all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            
            // Changer le message alÃ©atoirement
            if (Math.random() < 0.6) {
                const randomMessage = escapeMessages[Math.floor(Math.random() * escapeMessages.length)];
                escapingButton.textContent = randomMessage;
            }
            
            // Augmenter la zone de dÃ©tection progressivement pour plus de difficultÃ©
            if (escapeCount % 5 === 0) {
                detectionZone = Math.min(detectionZone + 10, 200);
                console.log(`ğŸ“¡ Zone de dÃ©tection augmentÃ©e Ã  ${detectionZone}px`);
            }
            
            setTimeout(() => {
                isMoving = false;
            }, 300);
        }

        // Fonctions de dÃ©bogage pour la console
        window.stopEscape = function() {
            isGameActive = false;
            document.removeEventListener('mousemove', checkMouseProximity);
            console.log('ğŸ›‘ Jeu arrÃªtÃ© via la console !');
        };
        
        window.startEscape = function() {
            isGameActive = true;
            document.addEventListener('mousemove', checkMouseProximity);
            console.log('â–¶ï¸ Jeu redÃ©marrÃ© via la console !');
        };
        
        window.resetEscape = function() {
            escapeCount = 0;
            detectionZone = 120;
            isGameActive = true;
            isMoving = false;
            escapingButton.textContent = 'ğŸš€ RÃ©server maintenant';
            escapingButton.classList.remove('captured');
            console.log('ğŸ”„ Jeu complÃ¨tement rÃ©initialisÃ© !');
        };

        window.setDetectionZone = function(pixels) {
            detectionZone = pixels;
            console.log(`ğŸ“¡ Zone de dÃ©tection dÃ©finie Ã  ${pixels}px`);
        };
    </script>
</body>
</html>